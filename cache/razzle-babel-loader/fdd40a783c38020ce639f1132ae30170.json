{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { setDetailSongs } from \"redux/actions/utils\";\nimport { bindActionCreators } from \"redux\";\nimport logs from \"helpers/logs\";\nimport api from \"helpers/api\";\nimport \"./scss/style.scoped.scss\";\n\nfunction Topsongs(props) {\n  var logger = new logs(false, \"topsongs\");\n  var doRequest = new api(props.tokens).req;\n\n  var _useState = useState([]),\n      topSongs = _useState[0],\n      setTopSongs = _useState[1];\n\n  useEffect(function () {\n    doRequest({\n      method: \"GET\",\n      url: \"music/top?page=1&per_page=5&order[music_rank]=ASC\"\n    }).then(function (res) {\n      var data = res.data.data;\n      logger.Show(data);\n      setTopSongs(data);\n    })[\"catch\"](function (er) {\n      logger.Show(er);\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  var toDetail = function toDetail(value) {\n    var data = {\n      id: value.id,\n      code: value.code,\n      uuid: value.id,\n      name: value.name,\n      singer: value.singer,\n      cover: value.cover,\n      songs: value\n    };\n    logger.Show(value);\n    props.SetDetail(data);\n    props.history.push(\"/songs/\".concat(value.code));\n  };\n\n  return __jsx(\"div\", {\n    className: \"col-md-4\"\n  }, __jsx(\"h3\", {\n    className: \"font-thin\"\n  }, \"Top Songs\"), __jsx(\"div\", {\n    className: \"list-group bg-white list-group-lg no-bg auto\"\n  }, topSongs.map(function (val, index) {\n    var data = {\n      id: val.id,\n      uuid: val.discovery_code,\n      name: val.music_title,\n      code: val.music_code,\n      artisCod: val.artis_code,\n      singer: val.artis_name,\n      cover: val.music_image_priority,\n      duration: val.music_duration,\n      musicSrc: val.music_storage_path\n    };\n    return __jsx(Link, {\n      to: \"#\",\n      key: index,\n      className: \"list-group-item clearfix warpp\",\n      onClick: function onClick() {\n        toDetail(data);\n      }\n    }, __jsx(\"span\", {\n      className: \"pull-right h2 m-l text-dark\"\n    }, index + 1), __jsx(\"span\", {\n      className: \"pull-left thumb-sm avatar m-r\"\n    }, __jsx(\"img\", {\n      src: data.cover,\n      alt: \"a4\"\n    })), __jsx(\"span\", {\n      className: \"clear\"\n    }, __jsx(\"span\", null, data.name), __jsx(\"small\", {\n      className: \"text-muted clear text-ellipsis\"\n    }, \"by \", data.singer)));\n  })));\n}\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    SetDetail: bindActionCreators(setDetailSongs, dispatch)\n  };\n};\n\nexport default withRouter(connect(null, mapDispatchToProps)(Topsongs));","map":{"version":3,"sources":["/home/ab/Code/reactJs/razzel/src/components/Topsongs/index.jsx"],"names":["React","useState","useEffect","Link","withRouter","connect","setDetailSongs","bindActionCreators","logs","api","Topsongs","props","logger","doRequest","tokens","req","topSongs","setTopSongs","method","url","then","res","data","Show","er","toDetail","value","id","code","uuid","name","singer","cover","songs","SetDetail","history","push","map","val","index","discovery_code","music_title","music_code","artisCod","artis_code","artis_name","music_image_priority","duration","music_duration","musicSrc","music_storage_path","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { withRouter } from \"react-router\"\nimport { connect } from \"react-redux\"\nimport { setDetailSongs } from \"redux/actions/utils\"\nimport { bindActionCreators } from \"redux\"\nimport logs from \"helpers/logs\"\nimport api from \"helpers/api\"\nimport \"./scss/style.scoped.scss\"\n\nfunction Topsongs(props) {\n    const logger = new logs(false, \"topsongs\")\n    const doRequest = new api(props.tokens).req\n\n    const [topSongs, setTopSongs] = useState([])\n    useEffect(() => {\n        doRequest({\n            method: \"GET\",\n            url: `music/top?page=1&per_page=5&order[music_rank]=ASC`,\n        })\n            .then((res) => {\n                const { data } = res.data\n                logger.Show(data)\n                setTopSongs(data)\n            })\n            .catch((er) => {\n                logger.Show(er)\n            })\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const toDetail = (value) => {\n        const data = {\n            id: value.id,\n            code: value.code,\n            uuid: value.id,\n            name: value.name,\n            singer: value.singer,\n            cover: value.cover,\n            songs: value,\n        }\n        logger.Show(value)\n        props.SetDetail(data)\n        props.history.push(`/songs/${value.code}`)\n    }\n\n    return (\n        <div className=\"col-md-4\">\n            <h3 className=\"font-thin\">Top Songs</h3>\n            <div className=\"list-group bg-white list-group-lg no-bg auto\">\n                {topSongs.map((val, index) => {\n                    const data = {\n                        id: val.id,\n                        uuid: val.discovery_code,\n                        name: val.music_title,\n                        code: val.music_code,\n                        artisCod: val.artis_code,\n                        singer: val.artis_name,\n                        cover: val.music_image_priority,\n                        duration: val.music_duration,\n                        musicSrc: val.music_storage_path,\n                    }\n                    return (\n                        <Link\n                            to=\"#\"\n                            key={index}\n                            className=\"list-group-item clearfix warpp\"\n                            onClick={() => {\n                                toDetail(data)\n                            }}\n                        >\n                            <span className=\"pull-right h2 m-l text-dark\">{index + 1}</span>\n                            <span className=\"pull-left thumb-sm avatar m-r\">\n                                <img src={data.cover} alt=\"a4\" />\n                            </span>\n                            <span className=\"clear\">\n                                <span>{data.name}</span>\n                                <small className=\"text-muted clear text-ellipsis\">\n                                    by {data.singer}\n                                </small>\n                            </span>\n                        </Link>\n                    )\n                })}\n            </div>\n        </div>\n    )\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        SetDetail: bindActionCreators(setDetailSongs, dispatch),\n    }\n}\n\nexport default withRouter(\n    connect(\n        null,\n        mapDispatchToProps\n    )(Topsongs)\n)\n"]},"metadata":{},"sourceType":"module"}