{"ast":null,"code":"var _jsxFileName = \"/home/ab/Code/reactJs/razzel/src/components/ChooseList/index.jsx\";\nvar __jsx = React.createElement;\nimport \"./scss/style.scoped.scss\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useToasts } from \"react-toast-notifications\";\nimport { connect } from \"react-redux\";\nimport { OptionsContext } from \"helpers/contex\";\nimport api from \"helpers/api\";\n\nfunction ListMusic(props) {\n  var _this = this;\n\n  var isOpen = props.open ? \"show\" : \"hide\";\n\n  var _useContext = useContext(OptionsContext),\n      showToast = _useContext.showToast,\n      newList = _useContext.newList,\n      createList = _useContext.createList;\n\n  var _useToasts = useToasts(),\n      addToast = _useToasts.addToast;\n\n  var defaultImage = \"https://res.cloudinary.com/devops2/image/upload/v1612864760/musicfly/m40_x31sif.jpg\";\n\n  var _useState = useState([]),\n      ListData = _useState[0],\n      setListData = _useState[1];\n\n  var _useState2 = useState(false),\n      onLoading = _useState2[0],\n      setOnLoading = _useState2[1];\n\n  var loadingList = function loadingList() {\n    var apis = new api(props.tokens);\n    var username_personal = props.users.data.username_personal;\n    setOnLoading(true);\n    apis.req({\n      method: \"GET\",\n      url: \"/playlist?order[id_playlist]=ASC&per_page=999&page=1&active=1&user_playlist=\".concat(username_personal)\n    }).then(function (res) {\n      var data = res.data.data;\n      setOnLoading(false);\n      setListData(data);\n    })[\"catch\"](function (er) {\n      setOnLoading(false);\n      addToast(\"Ada kesalahan load data list\", {\n        appearance: \"error\"\n      });\n    });\n  };\n\n  useEffect(function () {\n    if (props.open && props.isAuth) {\n      loadingList();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [props.open]);\n  useEffect(function () {\n    if (props.isAuth) {\n      loadingList();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [newList]);\n\n  var saveSongList = function saveSongList(play_code, namelist) {\n    setOnLoading(true);\n    var apis = new api(props.tokens);\n    apis.req({\n      method: \"POST\",\n      url: \"/playlist/music\",\n      data: {\n        playlist_code: play_code,\n        music_code: props.music\n      }\n    }).then(function () {\n      setOnLoading(false);\n      props.toggleModal();\n      showToast(\"Music ditambahakan ke \".concat(namelist));\n    })[\"catch\"](function (er) {\n      setOnLoading(false);\n\n      if (er.response) {\n        if (er.response.data.message === \"Musik sudah pernah ditambahkan\") {\n          addToast(\"music sudah ada dalam playlist\", {\n            appearance: \"info\"\n          });\n        } else {\n          addToast(\"ada kesaahan saat menambahkan music\", {\n            appearance: \"error\"\n          });\n        }\n      }\n    });\n  };\n\n  var createNew = function createNew() {\n    props.toggleModal();\n    createList();\n  };\n\n  var toggle = function toggle() {\n    props.toggleModal();\n  };\n\n  var onLoadStyle = {\n    width: \"100%\",\n    height: \"100vh\",\n    display: onLoading ? \"flex\" : \"none\",\n    position: \"absolute\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    fontSize: \"40px\",\n    backdropFilter: \"blur(1px)\",\n    color: \"black\",\n    zIndex: 9999\n  };\n  return __jsx(\"div\", {\n    className: \"container \".concat(isOpen),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    style: onLoadStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, __jsx(\"i\", {\n    className: \"fa fa-spin fa-spinner text\",\n    style: {\n      marginRight: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  }), __jsx(\"span\", {\n    className: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }\n  }, \"Wait..\")), __jsx(\"div\", {\n    className: \"modal-cos animated fadeIn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, __jsx(\"section\", {\n    className: \"panel bg-white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, ListData.length <= 0 ? __jsx(\"div\", {\n    className: \"none-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 25\n    }\n  }, __jsx(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 29\n    }\n  }, \"You don't have any list\"), __jsx(Link, {\n    to: \"#\",\n    onClick: createNew,\n    className: \"bg-light dk rounded btn-create\",\n    style: {\n      padding: \"5px 10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 29\n    }\n  }, __jsx(\"i\", {\n    className: \"icon-plus icon m-r-xs text-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 33\n    }\n  }), __jsx(\"small\", {\n    className: \"text-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 33\n    }\n  }, \"Create New List\"))) : null, __jsx(\"div\", {\n    className: \"panel-heading b-light bg-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }, \"Select Playlist\"), __jsx(Link, {\n    to: \"#\",\n    className: \"pull-right\",\n    onClick: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }, __jsx(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 29\n    }\n  }, __jsx(\"i\", {\n    className: \"fa fa-minus-square\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 33\n    }\n  })))), __jsx(\"div\", {\n    className: \"list-group list-group-alt lits-data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 21\n    }\n  }, ListData.length > 0 ? ListData.map(function (val, idx) {\n    if (val.foto_path_playlist === null) {\n      val.foto_path_playlist = defaultImage;\n    }\n\n    return __jsx(Link, {\n      to: \"#\",\n      className: \"media list-group-item\",\n      onClick: function onClick() {\n        saveSongList(val.object_code_playlist, val.complete_name_playlist);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 39\n      }\n    }, __jsx(\"span\", {\n      className: \"pull-left thumb-sm image-list\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 43\n      }\n    }, __jsx(\"img\", {\n      src: val.foto_path_playlist,\n      alt: \"...\",\n      style: {\n        width: \"40px\",\n        height: \"40px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 47\n      }\n    })), __jsx(\"span\", {\n      className: \"media-body block m-b-none\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 43\n      }\n    }, val.complete_name_playlist, __jsx(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 47\n      }\n    }), __jsx(\"small\", {\n      className: \"text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 47\n      }\n    }, val.changed_user_playlist)));\n  }) : null), __jsx(\"div\", {\n    className: \"panel-footer text-sm\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 21\n    }\n  }, ListData.length > 0 ? __jsx(Link, {\n    to: \"#\",\n    className: \"pull-right\",\n    onClick: createNew,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 29\n    }\n  }, __jsx(\"i\", {\n    className: \"fa fa-plus-square icon m-r-xs\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 33\n    }\n  }), __jsx(\"small\", {\n    className: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 33\n    }\n  }, \"Create\")) : null))));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    tokens: state.users.token,\n    users: state.users,\n    isAuth: state.users.isAuth\n  };\n};\n\nexport default connect(mapStateToProps)(ListMusic);","map":{"version":3,"sources":["/home/ab/Code/reactJs/razzel/src/components/ChooseList/index.jsx"],"names":["React","useState","useEffect","useContext","Link","useToasts","connect","OptionsContext","api","ListMusic","props","isOpen","open","showToast","newList","createList","addToast","defaultImage","ListData","setListData","onLoading","setOnLoading","loadingList","apis","tokens","username_personal","users","data","req","method","url","then","res","er","appearance","isAuth","saveSongList","play_code","namelist","playlist_code","music_code","music","toggleModal","response","message","createNew","toggle","onLoadStyle","width","height","display","position","justifyContent","alignItems","fontSize","backdropFilter","color","zIndex","marginRight","length","padding","map","val","idx","foto_path_playlist","object_code_playlist","complete_name_playlist","changed_user_playlist","mapStateToProps","state","token"],"mappings":"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","sourcesContent":["import \"./scss/style.scoped.scss\"\nimport React, { useState, useEffect, useContext } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { useToasts } from \"react-toast-notifications\"\nimport { connect } from \"react-redux\"\nimport { OptionsContext } from \"helpers/contex\"\nimport api from \"helpers/api\"\n\nfunction ListMusic(props) {\n    let isOpen = props.open ? \"show\" : \"hide\"\n\n    const { showToast, newList, createList } = useContext(OptionsContext)\n    const { addToast } = useToasts()\n    const defaultImage =\n        \"https://res.cloudinary.com/devops2/image/upload/v1612864760/musicfly/m40_x31sif.jpg\"\n    const [ListData, setListData] = useState([])\n    const [onLoading, setOnLoading] = useState(false)\n\n    const loadingList = () => {\n        const apis = new api(props.tokens)\n        const { username_personal } = props.users.data\n        setOnLoading(true)\n        apis.req({\n            method: \"GET\",\n            url: `/playlist?order[id_playlist]=ASC&per_page=999&page=1&active=1&user_playlist=${username_personal}`,\n        })\n            .then((res) => {\n                const { data } = res.data\n                setOnLoading(false)\n                setListData(data)\n            })\n            .catch((er) => {\n                setOnLoading(false)\n                addToast(\"Ada kesalahan load data list\", { appearance: \"error\" })\n            })\n    }\n\n    useEffect(() => {\n        if (props.open && props.isAuth) {\n            loadingList()\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props.open])\n\n    useEffect(() => {\n        if (props.isAuth) {\n            loadingList()\n        }\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [newList])\n\n    const saveSongList = (play_code, namelist) => {\n        setOnLoading(true)\n        const apis = new api(props.tokens)\n        apis.req({\n            method: \"POST\",\n            url: `/playlist/music`,\n            data: {\n                playlist_code: play_code,\n                music_code: props.music,\n            },\n        })\n            .then(() => {\n                setOnLoading(false)\n                props.toggleModal()\n                showToast(`Music ditambahakan ke ${namelist}`)\n            })\n            .catch((er) => {\n                setOnLoading(false)\n                if (er.response) {\n                    if (er.response.data.message === \"Musik sudah pernah ditambahkan\") {\n                        addToast(\"music sudah ada dalam playlist\", { appearance: \"info\" })\n                    } else {\n                        addToast(\"ada kesaahan saat menambahkan music\", { appearance: \"error\" })\n                    }\n                }\n            })\n    }\n\n    const createNew = () => {\n        props.toggleModal()\n        createList()\n    }\n\n    const toggle = () => {\n        props.toggleModal()\n    }\n\n    const onLoadStyle = {\n        width: \"100%\",\n        height: \"100vh\",\n        display: onLoading ? \"flex\" : \"none\",\n        position: \"absolute\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        fontSize: \"40px\",\n        backdropFilter: \"blur(1px)\",\n        color: \"black\",\n        zIndex: 9999,\n    }\n\n    return (\n        <div className={`container ${isOpen}`}>\n            <div style={onLoadStyle}>\n                <i className=\"fa fa-spin fa-spinner text\" style={{ marginRight: \"10px\" }} />\n                <span className=\"text\">Wait..</span>\n            </div>\n            <div className=\"modal-cos animated fadeIn\">\n                <section className=\"panel bg-white\">\n                    {ListData.length <= 0 ? (\n                        <div className=\"none-list\">\n                            <h4>You don't have any list</h4>\n                            <Link\n                                to=\"#\"\n                                onClick={createNew}\n                                className=\"bg-light dk rounded btn-create\"\n                                style={{ padding: \"5px 10px\" }}\n                            >\n                                <i className=\"icon-plus icon m-r-xs text-success\" />\n                                <small className=\"text-success\">Create New List</small>\n                            </Link>\n                        </div>\n                    ) : null}\n                    <div className=\"panel-heading b-light bg-light\">\n                        <strong>Select Playlist</strong>\n                        <Link to=\"#\" className=\"pull-right\" onClick={toggle}>\n                            <strong>\n                                <i className=\"fa fa-minus-square\" />\n                            </strong>\n                        </Link>\n                    </div>\n                    <div className=\"list-group list-group-alt lits-data\">\n                        {ListData.length > 0\n                            ? ListData.map((val, idx) => {\n                                  if (val.foto_path_playlist === null) {\n                                      val.foto_path_playlist = defaultImage\n                                  }\n                                  return (\n                                      <Link\n                                          to=\"#\"\n                                          className=\"media list-group-item\"\n                                          onClick={() => {\n                                              saveSongList(\n                                                  val.object_code_playlist,\n                                                  val.complete_name_playlist\n                                              )\n                                          }}\n                                      >\n                                          <span className=\"pull-left thumb-sm image-list\">\n                                              <img\n                                                  src={val.foto_path_playlist}\n                                                  alt=\"...\"\n                                                  style={{ width: \"40px\", height: \"40px\" }}\n                                              />\n                                          </span>\n                                          <span className=\"media-body block m-b-none\">\n                                              {val.complete_name_playlist}\n                                              <br />\n                                              <small className=\"text-muted\">\n                                                  {val.changed_user_playlist}\n                                              </small>\n                                          </span>\n                                      </Link>\n                                  )\n                              })\n                            : null}\n                    </div>\n                    <div className=\"panel-footer text-sm\">\n                        {ListData.length > 0 ? (\n                            <Link to=\"#\" className=\"pull-right\" onClick={createNew}>\n                                <i className=\"fa fa-plus-square icon m-r-xs\" />\n                                <small className=\"text\">Create</small>\n                            </Link>\n                        ) : null}\n                        {/* <Link to=\"#\" data-toggle=\"class:show animated fadeInRight\">\n                            See all the notifications\n                        </Link> */}\n                    </div>\n                </section>\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        tokens: state.users.token,\n        users: state.users,\n        isAuth: state.users.isAuth,\n    }\n}\n\nexport default connect(mapStateToProps)(ListMusic)\n"]},"metadata":{},"sourceType":"module"}