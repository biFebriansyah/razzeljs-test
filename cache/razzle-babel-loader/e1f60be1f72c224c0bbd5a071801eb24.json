{"ast":null,"code":"var _jsxFileName = \"/home/ab/Code/reactJs/razzel/src/components/modal/index.jsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport \"./scss/style.scoped.scss\";\nimport api from \"helpers/api\";\nimport logs from \"helpers/logs\";\nimport moment from \"moment\";\nimport ImageContainer from \"components/cosImage/imgload\"; // import ads from \"./img/sprite.jpg\"\n\nfunction Modal(props) {\n  var isOpen = props.open ? \"show\" : \"hide\";\n\n  var _useState = useState(\"\"),\n      modalValue = _useState[0],\n      setModalValue = _useState[1];\n\n  var datenow = moment().format(\"YYYY-MM-DD\");\n  var myapi = new api(props.tokens);\n  var logger = new logs(false, \"Modal\");\n  useEffect(function () {\n    myapi.req({\n      method: \"GET\",\n      url: \"banner/popup?begin_date_lte=\".concat(datenow, \"&end_date_gte=\").concat(datenow)\n    }).then(function (res) {\n      var data = res.data.data;\n\n      if (Array.isArray(data) && data.length > 0) {\n        setModalValue(data[0].banner_image_path);\n      }\n    })[\"catch\"](function (er) {\n      logger.Show(er);\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  var toggle = function toggle() {\n    props.toggleModal();\n  };\n\n  return __jsx(\"div\", {\n    className: \"container \".concat(isOpen),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"modal-cos\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"btn-close\",\n    onClick: toggle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }, __jsx(\"i\", {\n    className: \"icon-close\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 21\n    }\n  })), __jsx(ImageContainer, {\n    src: modalValue,\n    alt: \"modal\",\n    height: 338,\n    width: 600,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  })));\n}\n\nexport default Modal;","map":{"version":3,"sources":["/home/ab/Code/reactJs/razzel/src/components/modal/index.jsx"],"names":["React","useState","useEffect","api","logs","moment","ImageContainer","Modal","props","isOpen","open","modalValue","setModalValue","datenow","format","myapi","tokens","logger","req","method","url","then","res","data","Array","isArray","length","banner_image_path","er","Show","toggle","toggleModal"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,0BAAP;AACA,OAAOC,GAAP,MAAgB,aAAhB;AACA,OAAOC,IAAP,MAAiB,cAAjB;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,OAAOC,cAAP,MAA2B,6BAA3B,C,CAEA;;AAEA,SAASC,KAAT,CAAeC,KAAf,EAAsB;AAClB,MAAMC,MAAM,GAAGD,KAAK,CAACE,IAAN,GAAa,MAAb,GAAsB,MAArC;;AACA,kBAAoCT,QAAQ,CAAC,EAAD,CAA5C;AAAA,MAAOU,UAAP;AAAA,MAAmBC,aAAnB;;AACA,MAAMC,OAAO,GAAGR,MAAM,GAAGS,MAAT,CAAgB,YAAhB,CAAhB;AACA,MAAMC,KAAK,GAAG,IAAIZ,GAAJ,CAAQK,KAAK,CAACQ,MAAd,CAAd;AACA,MAAMC,MAAM,GAAG,IAAIb,IAAJ,CAAS,KAAT,EAAgB,OAAhB,CAAf;AAEAF,EAAAA,SAAS,CAAC,YAAM;AACZa,IAAAA,KAAK,CACAG,GADL,CACS;AACDC,MAAAA,MAAM,EAAE,KADP;AAEDC,MAAAA,GAAG,wCAAiCP,OAAjC,2BAAyDA,OAAzD;AAFF,KADT,EAKKQ,IALL,CAKU,UAACC,GAAD,EAAS;AACX,UAAQC,IAAR,GAAiBD,GAAG,CAACC,IAArB,CAAQA,IAAR;;AACA,UAAIC,KAAK,CAACC,OAAN,CAAcF,IAAd,KAAuBA,IAAI,CAACG,MAAL,GAAc,CAAzC,EAA4C;AACxCd,QAAAA,aAAa,CAACW,IAAI,CAAC,CAAD,CAAJ,CAAQI,iBAAT,CAAb;AACH;AACJ,KAVL,WAWW,UAACC,EAAD,EAAQ;AACXX,MAAAA,MAAM,CAACY,IAAP,CAAYD,EAAZ;AACH,KAbL,EADY,CAgBZ;AACH,GAjBQ,EAiBN,EAjBM,CAAT;;AAmBA,MAAME,MAAM,GAAG,SAATA,MAAS,GAAM;AACjBtB,IAAAA,KAAK,CAACuB,WAAN;AACH,GAFD;;AAGA,SACI;AAAK,IAAA,SAAS,sBAAetB,MAAf,CAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAK,IAAA,SAAS,EAAC,WAAf;AAA2B,IAAA,OAAO,EAAEqB,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACI;AAAG,IAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,CADJ,EAII,MAAC,cAAD;AAAgB,IAAA,GAAG,EAAEnB,UAArB;AAAiC,IAAA,GAAG,EAAC,OAArC;AAA6C,IAAA,MAAM,EAAE,GAArD;AAA0D,IAAA,KAAK,EAAE,GAAjE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJJ,CADJ,CADJ;AAWH;;AAED,eAAeJ,KAAf","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport \"./scss/style.scoped.scss\"\nimport api from \"helpers/api\"\nimport logs from \"helpers/logs\"\nimport moment from \"moment\"\nimport ImageContainer from \"components/cosImage/imgload\"\n\n// import ads from \"./img/sprite.jpg\"\n\nfunction Modal(props) {\n    const isOpen = props.open ? \"show\" : \"hide\"\n    const [modalValue, setModalValue] = useState(\"\")\n    const datenow = moment().format(\"YYYY-MM-DD\")\n    const myapi = new api(props.tokens)\n    const logger = new logs(false, \"Modal\")\n\n    useEffect(() => {\n        myapi\n            .req({\n                method: \"GET\",\n                url: `banner/popup?begin_date_lte=${datenow}&end_date_gte=${datenow}`,\n            })\n            .then((res) => {\n                const { data } = res.data\n                if (Array.isArray(data) && data.length > 0) {\n                    setModalValue(data[0].banner_image_path)\n                }\n            })\n            .catch((er) => {\n                logger.Show(er)\n            })\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const toggle = () => {\n        props.toggleModal()\n    }\n    return (\n        <div className={`container ${isOpen}`}>\n            <div className=\"modal-cos\">\n                <div className=\"btn-close\" onClick={toggle}>\n                    <i className=\"icon-close\" />\n                </div>\n                <ImageContainer src={modalValue} alt=\"modal\" height={338} width={600} />\n                {/* <img src={modalValue} alt=\"iklan\" /> */}\n            </div>\n        </div>\n    )\n}\n\nexport default Modal\n"]},"metadata":{},"sourceType":"module"}