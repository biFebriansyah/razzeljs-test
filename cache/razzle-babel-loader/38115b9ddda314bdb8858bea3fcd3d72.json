{"ast":null,"code":"import _extends from \"/home/ab/Code/reactJs/razzel/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"/home/ab/Code/reactJs/razzel/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/ab/Code/reactJs/razzel/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/home/ab/Code/reactJs/razzel/src/components/AudioPlayer/index.jsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useContext, useRef, useEffect } from \"react\";\nimport { formatTime } from \"helpers/utils\";\nimport ReactPlayer from \"react-jinke-music-player\";\nimport { Link } from \"react-router-dom\";\nimport { OptionsContext, TestContext } from \"helpers/contex\";\nimport logs from \"helpers/logs\";\nimport api from \"helpers/api\";\nimport { useToasts } from \"react-toast-notifications\";\nimport Slider from \"rc-slider\";\nimport \"rc-slider/assets/index.css\";\nimport { SliderConfig, SliderSet, VolumeSet, adsSlider, adsVolume } from \"helpers/sliderConfig\";\nimport { connect } from \"react-redux\";\nimport PlayerActions from \"redux/actions/player\";\nimport { bindActionCreators } from \"redux\";\nimport moment from \"moment\";\n\nfunction AudioPlayer(props) {\n  var _this = this;\n\n  var options = {\n    mode: \"full\",\n    spaceBar: false,\n    playMode: \"order\",\n    responsive: false,\n    preload: \"none\",\n    autoPlay: false\n  };\n\n  var _useState = useState({}),\n      audio = _useState[0],\n      setAudio = _useState[1];\n\n  var duration = useRef(null);\n  var timeLine = useRef(null);\n  var logger = new logs(true, \"player\");\n  var doRequest = new api(props.tokens).req;\n  var datenow = moment().format(\"YYYY-MM-DD\");\n\n  var _useContext = useContext(OptionsContext),\n      theme = _useContext.theme;\n\n  var _useContext2 = useContext(TestContext),\n      indexSongs = _useContext2.indexSongs,\n      playWithIndex = _useContext2.playWithIndex,\n      deletList = _useContext2.deletList;\n\n  var _useToasts = useToasts(),\n      addToast = _useToasts.addToast;\n\n  var bgPlayer = theme === \"bg-black\" ? \"bg-dark\" : theme === \"bg-dark\" ? \"bg-info dker\" : \"bg-success dker\";\n  var sliderSet = SliderSet(theme);\n  var volumeSet = VolumeSet(theme);\n\n  var _useState2 = useState(false),\n      unmount = _useState2[0];\n\n  var _useState3 = useState(false),\n      mounted = _useState3[0],\n      setMounted = _useState3[1];\n\n  var _useState4 = useState(true),\n      isPause = _useState4[0],\n      setIsPause = _useState4[1];\n\n  var _useState5 = useState(false),\n      listOpen = _useState5[0],\n      setListOpen = _useState5[1];\n\n  var _useState6 = useState(true),\n      unmute = _useState6[0],\n      setUnmute = _useState6[1];\n\n  var _useState7 = useState(false),\n      doShuffle = _useState7[0],\n      setDoShuffle = _useState7[1];\n\n  var _useState8 = useState(false),\n      doRepeat = _useState8[0],\n      setDoRepeat = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      playTitle = _useState9[0],\n      setPlayTitle = _useState9[1];\n\n  var _useState10 = useState(\"\"),\n      playName = _useState10[0],\n      setPlayName = _useState10[1];\n\n  var _useState11 = useState(0),\n      slideValue = _useState11[0],\n      setSlideValue = _useState11[1];\n\n  var _useState12 = useState(100),\n      durasi = _useState12[0],\n      setDurasi = _useState12[1];\n\n  var _useState13 = useState(0.2),\n      playVolume = _useState13[0],\n      setPlayVolume = _useState13[1];\n\n  var _useState14 = useState(0),\n      prefVolume = _useState14[0],\n      setPrevVolume = _useState14[1];\n\n  var _useState15 = useState([]),\n      audioLists = _useState15[0],\n      setAudioLists = _useState15[1];\n\n  var _useState16 = useState([]),\n      AdsAudioLists = _useState16[0],\n      setAdsAudioLists = _useState16[1];\n\n  var _useState17 = useState(null),\n      manyListen = _useState17[0],\n      setManyListen = _useState17[1];\n\n  var _useState18 = useState(false),\n      autoPlay = _useState18[0],\n      setAutoPlay = _useState18[1];\n\n  var _useState19 = useState(false),\n      playingAds = _useState19[0],\n      setPlayAds = _useState19[1];\n\n  var _useState20 = useState(4),\n      trackConfig = _useState20[0],\n      setTrackCOnfig = _useState20[1];\n\n  var _useState21 = useState(\"\"),\n      songsCode = _useState21[0],\n      setSongsCode = _useState21[1];\n\n  var _useState22 = useState(\"\"),\n      listNames = _useState22[0],\n      SetListName = _useState22[1];\n\n  var _useState23 = useState(false),\n      isList = _useState23[0],\n      setIsList = _useState23[1];\n\n  var _useState24 = useState(0),\n      recentPlayIndex = _useState24[0],\n      setRecentPlayIndex = _useState24[1];\n\n  var _useState25 = useState(0),\n      PlayIndex = _useState25[0],\n      setPlayIndex = _useState25[1];\n\n  var _useState26 = useState(_objectSpread({}, options)),\n      params = _useState26[0],\n      setParams = _useState26[1];\n\n  var objIsEmpty = function objIsEmpty(obj) {\n    return Object.keys(obj).length === 0;\n  };\n\n  useEffect(function () {\n    if (props.player.setPause) {\n      pauseMusic();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [props.player.setPause]);\n  useEffect(function () {\n    if (props.player[\"continue\"]) {\n      playMusic();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [props.player[\"continue\"]]); // TODO Handle Cards SideEfect while playlist playing\n\n  useEffect(function () {\n    if (playingAds) {\n      props.isPausing();\n      addToast(\"Wait Until Iklan Selesai\", {\n        appearance: \"warning\"\n      });\n      return;\n    }\n\n    if (mounted && Array.isArray(props.player.data) && props.player.data.length > 0) {\n      var listName = props.player.data[0].listName;\n      setRecentPlayIndex(0);\n      setPlayIndex(0);\n      setIsList(true);\n      SetListName(listName);\n      addToast(\"Playing playlist \".concat(listName), {\n        appearance: \"success\"\n      });\n      onAddListAudio(props.player.data);\n      setAutoPlay(true);\n      playMusic();\n    }\n\n    if (mounted && typeof props.player.data.name !== \"undefined\") {\n      setIsList(false);\n      SetListName(\"\");\n      onAddAudio(props.player.data);\n      setAutoPlay(true);\n      playMusic();\n      addToast(\"Playing \".concat(props.player.data.name), {\n        appearance: \"success\"\n      });\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [props.player.data]);\n  useEffect(function () {\n    props.isPausing();\n    getAdsAudio();\n    getConfigTracker();\n    getConfigAudio();\n    setMounted(!mounted); // if (!objIsEmpty(props.player.data) && typeof props.player.data.name !== \"undefined\") {\n    //     setAutoPlay(false)\n    //     onAddAudio(props.player.data)\n    //     pauseMusic()\n    // }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(function () {\n    if (!objIsEmpty(indexSongs)) {\n      if (indexSongs.listName === listNames) {\n        setPlayIndex(indexSongs.index);\n      }\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [indexSongs]); // TODO playng index\n\n  useEffect(function () {\n    if (!objIsEmpty(playWithIndex)) {\n      var index = playWithIndex.index,\n          songs = playWithIndex.songs;\n      setPlayIndex(index);\n      setIsList(true);\n      onAddListAudio(songs);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [playWithIndex]);\n  useEffect(function () {\n    if (!objIsEmpty(deletList)) {\n      var index = deletList.index;\n      onDeletListSong(index);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [deletList]);\n\n  var getConfigAudio = function getConfigAudio() {\n    doRequest({\n      method: \"GET\",\n      url: \"config/count/audio?page=1&per_page=5\"\n    }).then(function (res) {\n      var data = res.data.data;\n      setManyListen(data[0].count);\n    })[\"catch\"](function (er) {\n      logger.Show(er.respone);\n    });\n  };\n\n  var getConfigTracker = function getConfigTracker() {\n    doRequest({\n      method: \"GET\",\n      url: \"config/count/tracker?page=1&per_page=5\"\n    }).then(function (res) {\n      var data = res.data.data;\n      setTrackCOnfig(data[0].percent);\n    })[\"catch\"](function (er) {\n      logger.Show(er.respone);\n    });\n  };\n\n  var getAdsAudio = function getAdsAudio() {\n    doRequest({\n      method: \"GET\",\n      url: \"banner/audio?begin_date_lte=\".concat(datenow, \"&end_date_gte=\").concat(datenow)\n    }).then(function (res) {\n      var data = res.data.data;\n      var ads = [];\n      data.map(function (value) {\n        var music = {\n          id: value.id,\n          code: value.banner_code,\n          name: value.banner_title,\n          singer: value.banner_credit,\n          cover: null,\n          musicSrc: value.banner_image_path\n        };\n        ads.push(music);\n        return true;\n      });\n      setAdsAudioLists(ads);\n    })[\"catch\"](function (er) {\n      logger.Show(er.respone);\n    });\n  };\n\n  var trackMusic = function trackMusic(code) {\n    doRequest({\n      method: \"POST\",\n      url: \"tracker/listen\",\n      data: {\n        music_code: code\n      }\n    })[\"catch\"](function (er) {\n      logger.Show(er.respone);\n    });\n  };\n\n  var playAds = function playAds() {\n    var random = Math.floor(Math.random() * AdsAudioLists.length);\n    setPlayAds(true);\n    setPlayIndex(0);\n    onAddAudio(AdsAudioLists[random]);\n    setAutoPlay(true);\n    playMusic();\n  };\n\n  var onAddAudio = function onAddAudio(songs) {\n    setAudioLists([songs]);\n  };\n\n  var onAddListAudio = function onAddListAudio(songs) {\n    setAudioLists(songs);\n  }; // TODO timer for music while playing\n\n\n  var musicOnProgress = function musicOnProgress(audioInfo) {\n    setSlideValue(Math.ceil(audioInfo.currentTime));\n    var trackIn = Math.ceil(audioInfo.duration) * Number(trackConfig) / 100;\n\n    if (!playingAds && trackIn > 0 && Math.ceil(audioInfo.currentTime) === Math.ceil(trackIn)) {\n      logger.Show(\"Track run\");\n      trackMusic(audioInfo.code);\n      return;\n    }\n  };\n\n  var updateParams = function updateParams(config) {\n    var data = _objectSpread(_objectSpread({}, params), config);\n\n    setParams(data);\n  };\n\n  var openList = function openList() {\n    setListOpen(!listOpen);\n  };\n\n  var repeatMode = function repeatMode() {\n    setDoRepeat(!doRepeat);\n    setDoShuffle(false);\n\n    if (doRepeat) {\n      updateParams({\n        playMode: \"order\"\n      });\n    } else {\n      if (audioLists.length > 1) {\n        updateParams({\n          playMode: \"orderLoop\"\n        });\n      } else {\n        updateParams({\n          playMode: \"singleLoop\"\n        });\n      }\n    }\n  };\n\n  var suffleMode = function suffleMode() {\n    setDoShuffle(!doShuffle);\n    setDoRepeat(false);\n\n    if (doShuffle) {\n      updateParams({\n        playMode: \"order\"\n      });\n    } else {\n      updateParams({\n        playMode: \"shufflePlay\"\n      });\n    }\n  };\n\n  var setPlayTime = function setPlayTime(value) {\n    setSlideValue(value);\n    audio.currentTime = value;\n  };\n\n  var setVolume = function setVolume(value) {\n    audio.volume = value;\n    setPlayVolume(value);\n  };\n\n  var playMuted = function playMuted() {\n    setUnmute(!unmute);\n\n    if (unmute) {\n      audio.volume = 0;\n      setPrevVolume(playVolume);\n      setPlayVolume(0);\n    } else {\n      audio.volume = prefVolume;\n      setPlayVolume(prefVolume); // audio.volume = 0.2\n      // setPlayVolume(0.2)\n    }\n  };\n\n  var playMusic = function playMusic() {\n    if (typeof audio.play === \"function\") {\n      var playPromise = audio.play();\n\n      if (playPromise !== undefined) {\n        playPromise.then(function () {\n          return true;\n        })[\"catch\"](function (er) {\n          logger.Show(er);\n        });\n      }\n    }\n  };\n\n  var onDeletListSong = function onDeletListSong(index) {\n    if (isList) {\n      var newList = _toConsumableArray(audioLists).filter(function (val, idx) {\n        return index !== idx;\n      });\n\n      onAddListAudio(newList);\n    }\n  };\n\n  var musicEnd = function musicEnd() {\n    setIsPause(true);\n\n    if (playingAds) {\n      props.setAdsCount(0);\n      setPlayAds(false);\n\n      if (isList) {\n        // updateParams({\n        //     playIndex: recentPlayIndex,\n        // })\n        setPlayIndex(recentPlayIndex);\n        onAddListAudio(props.player.data);\n        setAutoPlay(true);\n      } else {\n        onAddAudio(props.player.data);\n        setAutoPlay(true);\n      }\n    } else {\n      if (isList) {\n        if (recentPlayIndex !== audioLists.length - 1) {\n          setPlayIndex(recentPlayIndex + 1);\n        }\n      }\n    }\n  };\n\n  var pauseMusic = function pauseMusic() {\n    setIsPause(true);\n\n    if (typeof audio.pause === \"function\") {\n      audio.pause();\n    }\n  };\n\n  var playNext = function playNext() {\n    if (isList) {\n      if (recentPlayIndex !== audioLists.length - 1) {\n        setPlayIndex(recentPlayIndex + 1);\n      } else {\n        setPlayIndex(0);\n      }\n    }\n  };\n\n  var playPrev = function playPrev() {\n    if (isList) {\n      if (recentPlayIndex !== 0) {\n        setPlayIndex(recentPlayIndex - 1);\n      } else {\n        setPlayIndex(0);\n      }\n    }\n  };\n\n  var onPausePlayer = function onPausePlayer() {\n    props.isPausing();\n  };\n\n  var prepareMusic = function prepareMusic(audioInfo) {\n    setSongsCode(audioInfo.code);\n\n    if (!playingAds && isList) {\n      setRecentPlayIndex(audioInfo.playIndex);\n    }\n\n    if (!props.isPremium) {\n      if (songsCode !== audioInfo.code && props.adsState >= Number(manyListen)) {\n        playAds();\n      } else if (songsCode !== audioInfo.code) {\n        props.setAdsCount(props.adsState + 1);\n      }\n    }\n\n    props.isPlaying();\n    props.setPlaying();\n    var title = \"\".concat(audioInfo.name, \" - \").concat(audioInfo.singer);\n    props.Playing({\n      title: audioInfo.name,\n      singer: audioInfo.singer,\n      cover: audioInfo.cover,\n      code: audioInfo.code,\n      isList: isList,\n      listName: audioInfo.listName\n    });\n    logger.Show(\"Prepare innject\");\n    setPlayName(audioInfo.name);\n    setPlayTitle(title);\n    setIsPause(false);\n    setDurasi(Math.ceil(audioInfo.duration));\n  };\n\n  var renderUi = function renderUi() {\n    return __jsx(\"footer\", {\n      className: \"footer footer \".concat(bgPlayer),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      id: \"jp_container_N\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"jp-type-playlist\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 428,\n        columnNumber: 21\n      }\n    }, __jsx(\"div\", {\n      id: \"jplayer_N\",\n      className: \"jp-jplayer hide\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 25\n      }\n    }), __jsx(\"div\", {\n      className: \"jp-gui\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 25\n      }\n    }, __jsx(\"div\", {\n      className: \"jp-video-play hide\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 29\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      className: \"jp-video-play-icon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 33\n      }\n    }, \"play\")), __jsx(\"div\", {\n      className: \"jp-interface\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 29\n      }\n    }, __jsx(\"div\", {\n      className: \"jp-controls\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 437,\n        columnNumber: 33\n      }\n    }, __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 438,\n        columnNumber: 37\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      className: \"jp-previous\",\n      onClick: playPrev,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 439,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-control-rewind i-lg\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 45\n      }\n    }))), __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 37\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      className: \"jp-play \".concat(isPause ? \"\" : \"hid\"),\n      onClick: playMusic,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-control-play i-2x\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 45\n      }\n    })), __jsx(Link, {\n      to: \"#\",\n      className: \"jp-pause \".concat(isPause ? \"hid\" : \"\"),\n      onClick: pauseMusic,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 451,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-control-pause i-2x\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 45\n      }\n    }))), __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 459,\n        columnNumber: 37\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      className: \"jp-next\",\n      onClick: playNext,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-control-forward i-lg\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 461,\n        columnNumber: 45\n      }\n    }))), __jsx(\"div\", {\n      className: \"hide\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 37\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      className: \"jp-stop\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"fa fa-stop\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 45\n      }\n    }))), __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 469,\n        columnNumber: 37\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      onClick: openList,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-list\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 45\n      }\n    }))), __jsx(\"div\", {\n      className: \"jp-progress hidden-xs\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 37\n      }\n    }, __jsx(\"div\", {\n      className: \"jp-seek-bar dk\",\n      ref: timeLine,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 41\n      }\n    }, __jsx(Slider, _extends({}, SliderConfig, {\n      max: durasi,\n      value: slideValue,\n      onChange: setPlayTime,\n      railStyle: sliderSet.railStyle,\n      trackStyle: sliderSet.trackStyle,\n      handleStyle: sliderSet.dotStyle,\n      style: {\n        padding: 0,\n        height: \"60px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 45\n      }\n    })), __jsx(\"p\", {\n      className: \"player-title text-lt\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 45\n      }\n    }, playTitle ? playTitle : \"Fly Music\"))), __jsx(\"div\", {\n      className: \"hidden-xs hidden-sm jp-current-time text-xs text-muted\",\n      ref: duration,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 491,\n        columnNumber: 37\n      }\n    }, audio.currentTime ? formatTime(audio.currentTime) : \"00:00\"), __jsx(\"div\", {\n      className: \"hidden-xs hidden-sm jp-duration text-xs text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499,\n        columnNumber: 37\n      }\n    }, audio.duration ? formatTime(audio.duration) : \"00:00\"), __jsx(\"div\", {\n      className: \"hidden-xs hidden-sm\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503,\n        columnNumber: 37\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      className: \"jp-mute \".concat(unmute ? \"\" : \"hid\"),\n      title: \"mute\",\n      onClick: playMuted,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-volume-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510,\n        columnNumber: 45\n      }\n    })), __jsx(Link, {\n      to: \"#\",\n      className: \"jp-unmute \".concat(unmute ? \"hid\" : \"\"),\n      title: \"unmute\",\n      onClick: playMuted,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 512,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-volume-off\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 518,\n        columnNumber: 45\n      }\n    }))), __jsx(\"div\", {\n      className: \"hidden-xs hidden-sm jp-volume\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 521,\n        columnNumber: 37\n      }\n    }, __jsx(\"div\", {\n      className: \"jp-volume-bar dk\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 41\n      }\n    }, __jsx(\"div\", {\n      className: \"jp-volume-bar-value lter\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523,\n        columnNumber: 45\n      }\n    }, __jsx(Slider, _extends({}, SliderConfig, {\n      max: 1,\n      value: playVolume,\n      onChange: setVolume,\n      railStyle: volumeSet.railStyle,\n      trackStyle: volumeSet.trackStyle,\n      handleStyle: volumeSet.dotStyle,\n      style: {\n        padding: 0\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 524,\n        columnNumber: 49\n      }\n    }))))), __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 537,\n        columnNumber: 37\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      className: \"jp-shuffle \".concat(doShuffle ? \"hid\" : \"\"),\n      title: \"shuffle\",\n      onClick: suffleMode,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 538,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-shuffle text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544,\n        columnNumber: 45\n      }\n    })), __jsx(Link, {\n      to: \"#\",\n      className: \"jp-shuffle-off \".concat(doShuffle ? \"\" : \"hid\"),\n      title: \"shuffle off\",\n      onClick: suffleMode,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-shuffle text-lt\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 552,\n        columnNumber: 45\n      }\n    }))), __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 555,\n        columnNumber: 37\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      className: \"jp-repeat \".concat(doRepeat ? \"hid\" : \"\"),\n      title: \"repeat\",\n      onClick: repeatMode,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 556,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-loop text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 562,\n        columnNumber: 45\n      }\n    })), __jsx(Link, {\n      to: \"#\",\n      className: \"jp-repeat-off \".concat(doRepeat ? \"\" : \"hid\"),\n      title: \"repeat off\",\n      onClick: repeatMode,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 564,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-loop text-lt\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 570,\n        columnNumber: 45\n      }\n    }))), __jsx(\"div\", {\n      className: \"hide\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 573,\n        columnNumber: 37\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      className: \"jp-full-screen\",\n      title: \"full screen\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 574,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"fa fa-expand\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 575,\n        columnNumber: 45\n      }\n    })), __jsx(Link, {\n      to: \"#\",\n      className: \"jp-restore-screen\",\n      title: \"restore screen\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 577,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"fa fa-compress text-lt\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 45\n      }\n    })))))), __jsx(\"div\", {\n      className: \"jp-playlist dropup \".concat(listOpen ? \"open\" : \"\"),\n      id: \"playlist\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 588,\n        columnNumber: 25\n      }\n    }, __jsx(\"ul\", {\n      className: \"dropdown-menu aside-xl dker\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 29\n      }\n    }, audioLists.length > 0 ? audioLists.map(function (value, index) {\n      return __jsx(\"li\", {\n        key: index,\n        className: \"\".concat(value.name === playName ? \"jp-playlist-current\" : \"non\"),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 596,\n          columnNumber: 45\n        }\n      }, __jsx(\"div\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 604,\n          columnNumber: 49\n        }\n      }, __jsx(Link, {\n        to: \"#\",\n        onClick: function onClick() {\n          return onDeletListSong(index);\n        },\n        className: \"jp-playlist-item-remove\",\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 605,\n          columnNumber: 53\n        }\n      }, \"\\xD7\"), __jsx(Link, {\n        to: \"#\",\n        onClick: function onClick() {\n          return setPlayIndex(index);\n        },\n        className: \"jp-playlist-item \".concat(value.name === playName ? \"jp-playlist-current\" : \"\"),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 612,\n          columnNumber: 53\n        }\n      }, value.name)));\n    }) : __jsx(\"li\", {\n      className: \"non\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 628,\n        columnNumber: 37\n      }\n    }, __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 629,\n        columnNumber: 41\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      className: \"jp-playlist-item\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 630,\n        columnNumber: 45\n      }\n    }, \"Playlist not found\"))))))));\n  };\n\n  var renderUiAds = function renderUiAds() {\n    return __jsx(\"footer\", {\n      className: \"footer footer bg-primary dker\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 646,\n        columnNumber: 13\n      }\n    }, __jsx(\"div\", {\n      id: \"jp_container_N\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 647,\n        columnNumber: 17\n      }\n    }, __jsx(\"div\", {\n      className: \"jp-type-playlist\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 648,\n        columnNumber: 21\n      }\n    }, __jsx(\"div\", {\n      className: \"jp-gui\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 649,\n        columnNumber: 25\n      }\n    }, __jsx(\"div\", {\n      className: \"jp-video-play hide\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 650,\n        columnNumber: 29\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      className: \"jp-video-play-icon\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 651,\n        columnNumber: 33\n      }\n    }, \"play\")), __jsx(\"div\", {\n      className: \"jp-interface\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 655,\n        columnNumber: 29\n      }\n    }, __jsx(\"div\", {\n      className: \"jp-controls\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 656,\n        columnNumber: 33\n      }\n    }, __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 657,\n        columnNumber: 37\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      className: \"jp-previous\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 658,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-control-rewind i-lg\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 659,\n        columnNumber: 45\n      }\n    }))), __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 662,\n        columnNumber: 37\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      className: \"jp-play \",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 663,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-control-play i-2x\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 664,\n        columnNumber: 45\n      }\n    }))), __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 667,\n        columnNumber: 37\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      className: \"jp-next disabled\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 668,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-control-forward i-lg\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 669,\n        columnNumber: 45\n      }\n    }))), __jsx(\"div\", {\n      className: \"hide\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 672,\n        columnNumber: 37\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      className: \"jp-stop\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 673,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"fa fa-stop\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 674,\n        columnNumber: 45\n      }\n    }))), __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 677,\n        columnNumber: 37\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 678,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-list\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 679,\n        columnNumber: 45\n      }\n    }))), __jsx(\"div\", {\n      className: \"jp-progress hidden-xs\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 682,\n        columnNumber: 37\n      }\n    }, __jsx(\"div\", {\n      className: \"jp-seek-bar dk\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 683,\n        columnNumber: 41\n      }\n    }, __jsx(Slider, _extends({}, SliderConfig, {\n      max: durasi,\n      value: slideValue,\n      railStyle: adsSlider.railStyle,\n      trackStyle: adsSlider.trackStyle,\n      handleStyle: adsSlider.dotStyle,\n      style: {\n        padding: 0,\n        height: \"60px\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 684,\n        columnNumber: 45\n      }\n    })), __jsx(\"p\", {\n      className: \"player-title text-lt\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 693,\n        columnNumber: 45\n      }\n    }, playTitle ? playTitle : \"Fly Music\"))), __jsx(\"div\", {\n      className: \"hidden-xs hidden-sm jp-current-time text-xs text-muted\",\n      ref: duration,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 698,\n        columnNumber: 37\n      }\n    }, audio.currentTime ? formatTime(audio.currentTime) : \"00:00\"), __jsx(\"div\", {\n      className: \"hidden-xs hidden-sm jp-duration text-xs text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 706,\n        columnNumber: 37\n      }\n    }, audio.duration ? formatTime(audio.duration) : \"00:00\"), __jsx(\"div\", {\n      className: \"hidden-xs hidden-sm\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 710,\n        columnNumber: 37\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      className: \"jp-mute \".concat(unmute ? \"\" : \"hid\"),\n      title: \"mute\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 711,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-volume-2\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 716,\n        columnNumber: 45\n      }\n    })), __jsx(Link, {\n      to: \"#\",\n      className: \"jp-unmute \".concat(unmute ? \"hid\" : \"\"),\n      title: \"unmute\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 718,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-volume-off\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 723,\n        columnNumber: 45\n      }\n    }))), __jsx(\"div\", {\n      className: \"hidden-xs hidden-sm jp-volume\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 726,\n        columnNumber: 37\n      }\n    }, __jsx(\"div\", {\n      className: \"jp-volume-bar dk\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 727,\n        columnNumber: 41\n      }\n    }, __jsx(\"div\", {\n      className: \"jp-volume-bar-value lter\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 728,\n        columnNumber: 45\n      }\n    }, __jsx(Slider, _extends({}, SliderConfig, {\n      max: 1,\n      railStyle: adsVolume.railStyle,\n      trackStyle: adsVolume.trackStyle,\n      handleStyle: adsVolume.dotStyle,\n      style: {\n        padding: 0\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 729,\n        columnNumber: 49\n      }\n    }))))), __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 740,\n        columnNumber: 37\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      className: \"jp-shuffle\",\n      title: \"shuffle\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 741,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-shuffle text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 742,\n        columnNumber: 45\n      }\n    }))), __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 745,\n        columnNumber: 37\n      }\n    }, __jsx(Link, {\n      to: \"#\",\n      className: \"jp-repeat \",\n      title: \"repeat\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 746,\n        columnNumber: 41\n      }\n    }, __jsx(\"i\", {\n      className: \"icon-loop text-muted\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 747,\n        columnNumber: 45\n      }\n    })))))))));\n  };\n\n  return __jsx(React.Fragment, null, playingAds ? renderUiAds() : renderUi(), unmount ? null : __jsx(\"div\", {\n    className: \"test\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 763,\n      columnNumber: 17\n    }\n  }, __jsx(ReactPlayer, _extends({}, params, {\n    showMediaSession: true,\n    getAudioInstance: function getAudioInstance(instance) {\n      setAudio(instance);\n    },\n    clearPriorAudioLists: true,\n    quietUpdate: true,\n    audioLists: audioLists,\n    playIndex: PlayIndex,\n    defaultVolume: playVolume,\n    autoPlay: autoPlay,\n    style: {\n      display: \"none\"\n    },\n    onAudioProgress: musicOnProgress,\n    onAudioPlay: prepareMusic,\n    onAudioEnded: musicEnd,\n    onAudioPause: onPausePlayer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 764,\n      columnNumber: 21\n    }\n  }))));\n}\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    player: state.player,\n    adsState: state.player.adsPlay,\n    tokens: state.users.token,\n    users: state.users,\n    isAuth: state.users.isAuth,\n    isPremium: state.users.premium\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    saveState: bindActionCreators(PlayerActions.setSaveState, dispatch),\n    isPlaying: bindActionCreators(PlayerActions.isPlay, dispatch),\n    setPausing: bindActionCreators(PlayerActions.setPause, dispatch),\n    isPausing: bindActionCreators(PlayerActions.isPause, dispatch),\n    setPlaying: bindActionCreators(PlayerActions.setPlay, dispatch),\n    Playing: bindActionCreators(PlayerActions.setPlaying, dispatch),\n    setAdsCount: bindActionCreators(PlayerActions.setAdsCount, dispatch)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AudioPlayer);","map":{"version":3,"sources":["/home/ab/Code/reactJs/razzel/src/components/AudioPlayer/index.jsx"],"names":["React","useState","useContext","useRef","useEffect","formatTime","ReactPlayer","Link","OptionsContext","TestContext","logs","api","useToasts","Slider","SliderConfig","SliderSet","VolumeSet","adsSlider","adsVolume","connect","PlayerActions","bindActionCreators","moment","AudioPlayer","props","options","mode","spaceBar","playMode","responsive","preload","autoPlay","audio","setAudio","duration","timeLine","logger","doRequest","tokens","req","datenow","format","theme","indexSongs","playWithIndex","deletList","addToast","bgPlayer","sliderSet","volumeSet","unmount","mounted","setMounted","isPause","setIsPause","listOpen","setListOpen","unmute","setUnmute","doShuffle","setDoShuffle","doRepeat","setDoRepeat","playTitle","setPlayTitle","playName","setPlayName","slideValue","setSlideValue","durasi","setDurasi","playVolume","setPlayVolume","prefVolume","setPrevVolume","audioLists","setAudioLists","AdsAudioLists","setAdsAudioLists","manyListen","setManyListen","setAutoPlay","playingAds","setPlayAds","trackConfig","setTrackCOnfig","songsCode","setSongsCode","listNames","SetListName","isList","setIsList","recentPlayIndex","setRecentPlayIndex","PlayIndex","setPlayIndex","params","setParams","objIsEmpty","obj","Object","keys","length","player","setPause","pauseMusic","playMusic","isPausing","appearance","Array","isArray","data","listName","onAddListAudio","name","onAddAudio","getAdsAudio","getConfigTracker","getConfigAudio","index","songs","onDeletListSong","method","url","then","res","count","er","Show","respone","percent","ads","map","value","music","id","code","banner_code","banner_title","singer","banner_credit","cover","musicSrc","banner_image_path","push","trackMusic","music_code","playAds","random","Math","floor","musicOnProgress","audioInfo","ceil","currentTime","trackIn","Number","updateParams","config","openList","repeatMode","suffleMode","setPlayTime","setVolume","volume","playMuted","play","playPromise","undefined","newList","filter","val","idx","musicEnd","setAdsCount","pause","playNext","playPrev","onPausePlayer","prepareMusic","playIndex","isPremium","adsState","isPlaying","setPlaying","title","Playing","renderUi","railStyle","trackStyle","dotStyle","padding","height","renderUiAds","instance","display","mapStateToProps","state","adsPlay","users","token","isAuth","premium","mapDispatchToProps","dispatch","saveState","setSaveState","isPlay","setPausing","setPlay"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useRef, useEffect } from \"react\"\nimport { formatTime } from \"helpers/utils\"\nimport ReactPlayer from \"react-jinke-music-player\"\nimport { Link } from \"react-router-dom\"\nimport { OptionsContext, TestContext } from \"helpers/contex\"\nimport logs from \"helpers/logs\"\nimport api from \"helpers/api\"\nimport { useToasts } from \"react-toast-notifications\"\nimport Slider from \"rc-slider\"\nimport \"rc-slider/assets/index.css\"\nimport { SliderConfig, SliderSet, VolumeSet, adsSlider, adsVolume } from \"helpers/sliderConfig\"\nimport { connect } from \"react-redux\"\nimport PlayerActions from \"redux/actions/player\"\nimport { bindActionCreators } from \"redux\"\nimport moment from \"moment\"\n\nfunction AudioPlayer(props) {\n    const options = {\n        mode: \"full\",\n        spaceBar: false,\n        playMode: \"order\",\n        responsive: false,\n        preload: \"none\",\n        autoPlay: false,\n    }\n\n    const [audio, setAudio] = useState({})\n    const duration = useRef(null)\n    const timeLine = useRef(null)\n    const logger = new logs(true, \"player\")\n    const doRequest = new api(props.tokens).req\n    const datenow = moment().format(\"YYYY-MM-DD\")\n    const { theme } = useContext(OptionsContext)\n    const { indexSongs, playWithIndex, deletList } = useContext(TestContext)\n    const { addToast } = useToasts()\n    let bgPlayer =\n        theme === \"bg-black\" ? \"bg-dark\" : theme === \"bg-dark\" ? \"bg-info dker\" : \"bg-success dker\"\n    const sliderSet = SliderSet(theme)\n    const volumeSet = VolumeSet(theme)\n\n    const [unmount] = useState(false)\n    const [mounted, setMounted] = useState(false)\n    const [isPause, setIsPause] = useState(true)\n    const [listOpen, setListOpen] = useState(false)\n    const [unmute, setUnmute] = useState(true)\n    const [doShuffle, setDoShuffle] = useState(false)\n    const [doRepeat, setDoRepeat] = useState(false)\n    const [playTitle, setPlayTitle] = useState(\"\")\n    const [playName, setPlayName] = useState(\"\")\n    const [slideValue, setSlideValue] = useState(0)\n    const [durasi, setDurasi] = useState(100)\n    const [playVolume, setPlayVolume] = useState(0.2)\n    const [prefVolume, setPrevVolume] = useState(0)\n    const [audioLists, setAudioLists] = useState([])\n    const [AdsAudioLists, setAdsAudioLists] = useState([])\n    const [manyListen, setManyListen] = useState(null)\n    const [autoPlay, setAutoPlay] = useState(false)\n    const [playingAds, setPlayAds] = useState(false)\n    const [trackConfig, setTrackCOnfig] = useState(4)\n    const [songsCode, setSongsCode] = useState(\"\")\n    const [listNames, SetListName] = useState(\"\")\n    const [isList, setIsList] = useState(false)\n    const [recentPlayIndex, setRecentPlayIndex] = useState(0)\n    const [PlayIndex, setPlayIndex] = useState(0)\n    const [params, setParams] = useState({\n        ...options,\n    })\n\n    const objIsEmpty = (obj) => {\n        return Object.keys(obj).length === 0\n    }\n\n    useEffect(() => {\n        if (props.player.setPause) {\n            pauseMusic()\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props.player.setPause])\n\n    useEffect(() => {\n        if (props.player.continue) {\n            playMusic()\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props.player.continue])\n\n    // TODO Handle Cards SideEfect while playlist playing\n    useEffect(() => {\n        if (playingAds) {\n            props.isPausing()\n            addToast(`Wait Until Iklan Selesai`, { appearance: \"warning\" })\n            return\n        }\n        if (mounted && Array.isArray(props.player.data) && props.player.data.length > 0) {\n            const { listName } = props.player.data[0]\n            setRecentPlayIndex(0)\n            setPlayIndex(0)\n            setIsList(true)\n            SetListName(listName)\n            addToast(`Playing playlist ${listName}`, { appearance: \"success\" })\n            onAddListAudio(props.player.data)\n            setAutoPlay(true)\n            playMusic()\n        }\n        if (mounted && typeof props.player.data.name !== \"undefined\") {\n            setIsList(false)\n            SetListName(\"\")\n            onAddAudio(props.player.data)\n            setAutoPlay(true)\n            playMusic()\n            addToast(`Playing ${props.player.data.name}`, { appearance: \"success\" })\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props.player.data])\n\n    useEffect(() => {\n        props.isPausing()\n        getAdsAudio()\n        getConfigTracker()\n        getConfigAudio()\n        setMounted(!mounted)\n        // if (!objIsEmpty(props.player.data) && typeof props.player.data.name !== \"undefined\") {\n        //     setAutoPlay(false)\n        //     onAddAudio(props.player.data)\n        //     pauseMusic()\n        // }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    useEffect(() => {\n        if (!objIsEmpty(indexSongs)) {\n            if (indexSongs.listName === listNames) {\n                setPlayIndex(indexSongs.index)\n            }\n        }\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [indexSongs])\n\n    // TODO playng index\n    useEffect(() => {\n        if (!objIsEmpty(playWithIndex)) {\n            const { index, songs } = playWithIndex\n            setPlayIndex(index)\n            setIsList(true)\n            onAddListAudio(songs)\n        }\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [playWithIndex])\n\n    useEffect(() => {\n        if (!objIsEmpty(deletList)) {\n            const { index } = deletList\n            onDeletListSong(index)\n        }\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [deletList])\n\n    const getConfigAudio = () => {\n        doRequest({\n            method: \"GET\",\n            url: `config/count/audio?page=1&per_page=5`,\n        })\n            .then((res) => {\n                const { data } = res.data\n                setManyListen(data[0].count)\n            })\n            .catch((er) => {\n                logger.Show(er.respone)\n            })\n    }\n\n    const getConfigTracker = () => {\n        doRequest({\n            method: \"GET\",\n            url: `config/count/tracker?page=1&per_page=5`,\n        })\n            .then((res) => {\n                const { data } = res.data\n                setTrackCOnfig(data[0].percent)\n            })\n            .catch((er) => {\n                logger.Show(er.respone)\n            })\n    }\n\n    const getAdsAudio = () => {\n        doRequest({\n            method: \"GET\",\n            url: `banner/audio?begin_date_lte=${datenow}&end_date_gte=${datenow}`,\n        })\n            .then((res) => {\n                const { data } = res.data\n                const ads = []\n                data.map((value) => {\n                    const music = {\n                        id: value.id,\n                        code: value.banner_code,\n                        name: value.banner_title,\n                        singer: value.banner_credit,\n                        cover: null,\n                        musicSrc: value.banner_image_path,\n                    }\n                    ads.push(music)\n                    return true\n                })\n                setAdsAudioLists(ads)\n            })\n            .catch((er) => {\n                logger.Show(er.respone)\n            })\n    }\n\n    const trackMusic = (code) => {\n        doRequest({\n            method: \"POST\",\n            url: \"tracker/listen\",\n            data: {\n                music_code: code,\n            },\n        }).catch((er) => {\n            logger.Show(er.respone)\n        })\n    }\n\n    const playAds = () => {\n        const random = Math.floor(Math.random() * AdsAudioLists.length)\n        setPlayAds(true)\n        setPlayIndex(0)\n        onAddAudio(AdsAudioLists[random])\n        setAutoPlay(true)\n        playMusic()\n    }\n\n    const onAddAudio = (songs) => {\n        setAudioLists([songs])\n    }\n\n    const onAddListAudio = (songs) => {\n        setAudioLists(songs)\n    }\n\n    // TODO timer for music while playing\n    const musicOnProgress = (audioInfo) => {\n        setSlideValue(Math.ceil(audioInfo.currentTime))\n        const trackIn = (Math.ceil(audioInfo.duration) * Number(trackConfig)) / 100\n        if (!playingAds && trackIn > 0 && Math.ceil(audioInfo.currentTime) === Math.ceil(trackIn)) {\n            logger.Show(\"Track run\")\n            trackMusic(audioInfo.code)\n            return\n        }\n    }\n\n    const updateParams = (config) => {\n        const data = {\n            ...params,\n            ...config,\n        }\n        setParams(data)\n    }\n\n    const openList = () => {\n        setListOpen(!listOpen)\n    }\n\n    const repeatMode = () => {\n        setDoRepeat(!doRepeat)\n        setDoShuffle(false)\n        if (doRepeat) {\n            updateParams({ playMode: \"order\" })\n        } else {\n            if (audioLists.length > 1) {\n                updateParams({ playMode: \"orderLoop\" })\n            } else {\n                updateParams({ playMode: \"singleLoop\" })\n            }\n        }\n    }\n\n    const suffleMode = () => {\n        setDoShuffle(!doShuffle)\n        setDoRepeat(false)\n        if (doShuffle) {\n            updateParams({ playMode: \"order\" })\n        } else {\n            updateParams({ playMode: \"shufflePlay\" })\n        }\n    }\n\n    const setPlayTime = (value) => {\n        setSlideValue(value)\n        audio.currentTime = value\n    }\n\n    const setVolume = (value) => {\n        audio.volume = value\n        setPlayVolume(value)\n    }\n\n    const playMuted = () => {\n        setUnmute(!unmute)\n        if (unmute) {\n            audio.volume = 0\n            setPrevVolume(playVolume)\n            setPlayVolume(0)\n        } else {\n            audio.volume = prefVolume\n            setPlayVolume(prefVolume)\n            // audio.volume = 0.2\n            // setPlayVolume(0.2)\n        }\n    }\n\n    const playMusic = () => {\n        if (typeof audio.play === \"function\") {\n            const playPromise = audio.play()\n            if (playPromise !== undefined) {\n                playPromise\n                    .then(() => {\n                        return true\n                    })\n                    .catch((er) => {\n                        logger.Show(er)\n                    })\n            }\n        }\n    }\n\n    const onDeletListSong = (index) => {\n        if (isList) {\n            const newList = [...audioLists].filter((val, idx) => {\n                return index !== idx\n            })\n            onAddListAudio(newList)\n        }\n    }\n\n    const musicEnd = () => {\n        setIsPause(true)\n        if (playingAds) {\n            props.setAdsCount(0)\n            setPlayAds(false)\n            if (isList) {\n                // updateParams({\n                //     playIndex: recentPlayIndex,\n                // })\n                setPlayIndex(recentPlayIndex)\n                onAddListAudio(props.player.data)\n                setAutoPlay(true)\n            } else {\n                onAddAudio(props.player.data)\n                setAutoPlay(true)\n            }\n        } else {\n            if (isList) {\n                if (recentPlayIndex !== audioLists.length - 1) {\n                    setPlayIndex(recentPlayIndex + 1)\n                }\n            }\n        }\n    }\n\n    const pauseMusic = () => {\n        setIsPause(true)\n        if (typeof audio.pause === \"function\") {\n            audio.pause()\n        }\n    }\n    const playNext = () => {\n        if (isList) {\n            if (recentPlayIndex !== audioLists.length - 1) {\n                setPlayIndex(recentPlayIndex + 1)\n            } else {\n                setPlayIndex(0)\n            }\n        }\n    }\n    const playPrev = () => {\n        if (isList) {\n            if (recentPlayIndex !== 0) {\n                setPlayIndex(recentPlayIndex - 1)\n            } else {\n                setPlayIndex(0)\n            }\n        }\n    }\n\n    const onPausePlayer = () => {\n        props.isPausing()\n    }\n\n    const prepareMusic = (audioInfo) => {\n        setSongsCode(audioInfo.code)\n        if (!playingAds && isList) {\n            setRecentPlayIndex(audioInfo.playIndex)\n        }\n        if (!props.isPremium) {\n            if (songsCode !== audioInfo.code && props.adsState >= Number(manyListen)) {\n                playAds()\n            } else if (songsCode !== audioInfo.code) {\n                props.setAdsCount(props.adsState + 1)\n            }\n        }\n        props.isPlaying()\n        props.setPlaying()\n        const title = `${audioInfo.name} - ${audioInfo.singer}`\n        props.Playing({\n            title: audioInfo.name,\n            singer: audioInfo.singer,\n            cover: audioInfo.cover,\n            code: audioInfo.code,\n            isList: isList,\n            listName: audioInfo.listName,\n        })\n        logger.Show(\"Prepare innject\")\n        setPlayName(audioInfo.name)\n        setPlayTitle(title)\n        setIsPause(false)\n        setDurasi(Math.ceil(audioInfo.duration))\n    }\n\n    const renderUi = () => {\n        return (\n            <footer className={`footer footer ${bgPlayer}`}>\n                <div id=\"jp_container_N\">\n                    <div className=\"jp-type-playlist\">\n                        <div id=\"jplayer_N\" className=\"jp-jplayer hide\" />\n                        <div className=\"jp-gui\">\n                            <div className=\"jp-video-play hide\">\n                                <Link to=\"#\" className=\"jp-video-play-icon\">\n                                    play\n                                </Link>\n                            </div>\n                            <div className=\"jp-interface\">\n                                <div className=\"jp-controls\">\n                                    <div>\n                                        <Link to=\"#\" className=\"jp-previous\" onClick={playPrev}>\n                                            <i className=\"icon-control-rewind i-lg\" />\n                                        </Link>\n                                    </div>\n                                    <div>\n                                        <Link\n                                            to=\"#\"\n                                            className={`jp-play ${isPause ? \"\" : \"hid\"}`}\n                                            onClick={playMusic}\n                                        >\n                                            <i className=\"icon-control-play i-2x\" />\n                                        </Link>\n                                        <Link\n                                            to=\"#\"\n                                            className={`jp-pause ${isPause ? \"hid\" : \"\"}`}\n                                            onClick={pauseMusic}\n                                        >\n                                            <i className=\"icon-control-pause i-2x\" />\n                                        </Link>\n                                    </div>\n                                    <div>\n                                        <Link to=\"#\" className=\"jp-next\" onClick={playNext}>\n                                            <i className=\"icon-control-forward i-lg\" />\n                                        </Link>\n                                    </div>\n                                    <div className=\"hide\">\n                                        <Link to=\"#\" className=\"jp-stop\">\n                                            <i className=\"fa fa-stop\" />\n                                        </Link>\n                                    </div>\n                                    <div>\n                                        <Link to=\"#\" onClick={openList}>\n                                            <i className=\"icon-list\" />\n                                        </Link>\n                                    </div>\n                                    <div className=\"jp-progress hidden-xs\">\n                                        <div className=\"jp-seek-bar dk\" ref={timeLine}>\n                                            <Slider\n                                                {...SliderConfig}\n                                                max={durasi}\n                                                value={slideValue}\n                                                onChange={setPlayTime}\n                                                railStyle={sliderSet.railStyle}\n                                                trackStyle={sliderSet.trackStyle}\n                                                handleStyle={sliderSet.dotStyle}\n                                                style={{ padding: 0, height: \"60px\" }}\n                                            />\n                                            <p className=\"player-title text-lt\">\n                                                {playTitle ? playTitle : \"Fly Music\"}\n                                            </p>\n                                        </div>\n                                    </div>\n                                    <div\n                                        className=\"hidden-xs hidden-sm jp-current-time text-xs text-muted\"\n                                        ref={duration}\n                                    >\n                                        {audio.currentTime\n                                            ? formatTime(audio.currentTime)\n                                            : \"00:00\"}\n                                    </div>\n                                    <div className=\"hidden-xs hidden-sm jp-duration text-xs text-muted\">\n                                        {/* {playDuration ? playDuration : \"00:00\"} */}\n                                        {audio.duration ? formatTime(audio.duration) : \"00:00\"}\n                                    </div>\n                                    <div className=\"hidden-xs hidden-sm\">\n                                        <Link\n                                            to=\"#\"\n                                            className={`jp-mute ${unmute ? \"\" : \"hid\"}`}\n                                            title=\"mute\"\n                                            onClick={playMuted}\n                                        >\n                                            <i className=\"icon-volume-2\" />\n                                        </Link>\n                                        <Link\n                                            to=\"#\"\n                                            className={`jp-unmute ${unmute ? \"hid\" : \"\"}`}\n                                            title=\"unmute\"\n                                            onClick={playMuted}\n                                        >\n                                            <i className=\"icon-volume-off\" />\n                                        </Link>\n                                    </div>\n                                    <div className=\"hidden-xs hidden-sm jp-volume\">\n                                        <div className=\"jp-volume-bar dk\">\n                                            <div className=\"jp-volume-bar-value lter\">\n                                                <Slider\n                                                    {...SliderConfig}\n                                                    max={1}\n                                                    value={playVolume}\n                                                    onChange={setVolume}\n                                                    railStyle={volumeSet.railStyle}\n                                                    trackStyle={volumeSet.trackStyle}\n                                                    handleStyle={volumeSet.dotStyle}\n                                                    style={{ padding: 0 }}\n                                                />\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div>\n                                        <Link\n                                            to=\"#\"\n                                            className={`jp-shuffle ${doShuffle ? \"hid\" : \"\"}`}\n                                            title=\"shuffle\"\n                                            onClick={suffleMode}\n                                        >\n                                            <i className=\"icon-shuffle text-muted\" />\n                                        </Link>\n                                        <Link\n                                            to=\"#\"\n                                            className={`jp-shuffle-off ${doShuffle ? \"\" : \"hid\"}`}\n                                            title=\"shuffle off\"\n                                            onClick={suffleMode}\n                                        >\n                                            <i className=\"icon-shuffle text-lt\" />\n                                        </Link>\n                                    </div>\n                                    <div>\n                                        <Link\n                                            to=\"#\"\n                                            className={`jp-repeat ${doRepeat ? \"hid\" : \"\"}`}\n                                            title=\"repeat\"\n                                            onClick={repeatMode}\n                                        >\n                                            <i className=\"icon-loop text-muted\" />\n                                        </Link>\n                                        <Link\n                                            to=\"#\"\n                                            className={`jp-repeat-off ${doRepeat ? \"\" : \"hid\"}`}\n                                            title=\"repeat off\"\n                                            onClick={repeatMode}\n                                        >\n                                            <i className=\"icon-loop text-lt\" />\n                                        </Link>\n                                    </div>\n                                    <div className=\"hide\">\n                                        <Link to=\"#\" className=\"jp-full-screen\" title=\"full screen\">\n                                            <i className=\"fa fa-expand\" />\n                                        </Link>\n                                        <Link\n                                            to=\"#\"\n                                            className=\"jp-restore-screen\"\n                                            title=\"restore screen\"\n                                        >\n                                            <i className=\"fa fa-compress text-lt\" />\n                                        </Link>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                        <div\n                            className={`jp-playlist dropup ${listOpen ? \"open\" : \"\"}`}\n                            id=\"playlist\"\n                        >\n                            <ul className=\"dropdown-menu aside-xl dker\">\n                                {audioLists.length > 0 ? (\n                                    audioLists.map((value, index) => {\n                                        return (\n                                            <li\n                                                key={index}\n                                                className={`${\n                                                    value.name === playName\n                                                        ? \"jp-playlist-current\"\n                                                        : \"non\"\n                                                }`}\n                                            >\n                                                <div>\n                                                    <Link\n                                                        to=\"#\"\n                                                        onClick={() => onDeletListSong(index)}\n                                                        className=\"jp-playlist-item-remove\"\n                                                    >\n                                                        \n                                                    </Link>\n                                                    <Link\n                                                        to=\"#\"\n                                                        onClick={() => setPlayIndex(index)}\n                                                        className={`jp-playlist-item ${\n                                                            value.name === playName\n                                                                ? \"jp-playlist-current\"\n                                                                : \"\"\n                                                        }`}\n                                                    >\n                                                        {value.name}\n                                                    </Link>\n                                                </div>\n                                            </li>\n                                        )\n                                    })\n                                ) : (\n                                    <li className=\"non\">\n                                        <div>\n                                            <Link to=\"#\" className=\"jp-playlist-item\">\n                                                Playlist not found\n                                            </Link>\n                                        </div>\n                                    </li>\n                                )}\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </footer>\n        )\n    }\n\n    const renderUiAds = () => {\n        return (\n            <footer className={`footer footer bg-primary dker`}>\n                <div id=\"jp_container_N\">\n                    <div className=\"jp-type-playlist\">\n                        <div className=\"jp-gui\">\n                            <div className=\"jp-video-play hide\">\n                                <Link to=\"#\" className=\"jp-video-play-icon\">\n                                    play\n                                </Link>\n                            </div>\n                            <div className=\"jp-interface\">\n                                <div className=\"jp-controls\">\n                                    <div>\n                                        <Link to=\"#\" className=\"jp-previous\">\n                                            <i className=\"icon-control-rewind i-lg\" />\n                                        </Link>\n                                    </div>\n                                    <div>\n                                        <Link to=\"#\" className={`jp-play `}>\n                                            <i className=\"icon-control-play i-2x\" />\n                                        </Link>\n                                    </div>\n                                    <div>\n                                        <Link to=\"#\" className=\"jp-next disabled\">\n                                            <i className=\"icon-control-forward i-lg\" />\n                                        </Link>\n                                    </div>\n                                    <div className=\"hide\">\n                                        <Link to=\"#\" className=\"jp-stop\">\n                                            <i className=\"fa fa-stop\" />\n                                        </Link>\n                                    </div>\n                                    <div>\n                                        <Link to=\"#\">\n                                            <i className=\"icon-list\" />\n                                        </Link>\n                                    </div>\n                                    <div className=\"jp-progress hidden-xs\">\n                                        <div className=\"jp-seek-bar dk\">\n                                            <Slider\n                                                {...SliderConfig}\n                                                max={durasi}\n                                                value={slideValue}\n                                                railStyle={adsSlider.railStyle}\n                                                trackStyle={adsSlider.trackStyle}\n                                                handleStyle={adsSlider.dotStyle}\n                                                style={{ padding: 0, height: \"60px\" }}\n                                            />\n                                            <p className=\"player-title text-lt\">\n                                                {playTitle ? playTitle : \"Fly Music\"}\n                                            </p>\n                                        </div>\n                                    </div>\n                                    <div\n                                        className=\"hidden-xs hidden-sm jp-current-time text-xs text-muted\"\n                                        ref={duration}\n                                    >\n                                        {audio.currentTime\n                                            ? formatTime(audio.currentTime)\n                                            : \"00:00\"}\n                                    </div>\n                                    <div className=\"hidden-xs hidden-sm jp-duration text-xs text-muted\">\n                                        {/* {playDuration ? playDuration : \"00:00\"} */}\n                                        {audio.duration ? formatTime(audio.duration) : \"00:00\"}\n                                    </div>\n                                    <div className=\"hidden-xs hidden-sm\">\n                                        <Link\n                                            to=\"#\"\n                                            className={`jp-mute ${unmute ? \"\" : \"hid\"}`}\n                                            title=\"mute\"\n                                        >\n                                            <i className=\"icon-volume-2\" />\n                                        </Link>\n                                        <Link\n                                            to=\"#\"\n                                            className={`jp-unmute ${unmute ? \"hid\" : \"\"}`}\n                                            title=\"unmute\"\n                                        >\n                                            <i className=\"icon-volume-off\" />\n                                        </Link>\n                                    </div>\n                                    <div className=\"hidden-xs hidden-sm jp-volume\">\n                                        <div className=\"jp-volume-bar dk\">\n                                            <div className=\"jp-volume-bar-value lter\">\n                                                <Slider\n                                                    {...SliderConfig}\n                                                    max={1}\n                                                    railStyle={adsVolume.railStyle}\n                                                    trackStyle={adsVolume.trackStyle}\n                                                    handleStyle={adsVolume.dotStyle}\n                                                    style={{ padding: 0 }}\n                                                />\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div>\n                                        <Link to=\"#\" className={`jp-shuffle`} title=\"shuffle\">\n                                            <i className=\"icon-shuffle text-muted\" />\n                                        </Link>\n                                    </div>\n                                    <div>\n                                        <Link to=\"#\" className={`jp-repeat `} title=\"repeat\">\n                                            <i className=\"icon-loop text-muted\" />\n                                        </Link>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </footer>\n        )\n    }\n\n    return (\n        <>\n            {playingAds ? renderUiAds() : renderUi()}\n            {unmount ? null : (\n                <div className=\"test\">\n                    <ReactPlayer\n                        {...params}\n                        showMediaSession\n                        getAudioInstance={(instance) => {\n                            setAudio(instance)\n                        }}\n                        clearPriorAudioLists={true}\n                        quietUpdate={true}\n                        audioLists={audioLists}\n                        playIndex={PlayIndex}\n                        defaultVolume={playVolume}\n                        autoPlay={autoPlay}\n                        style={{ display: \"none\" }}\n                        onAudioProgress={musicOnProgress}\n                        onAudioPlay={prepareMusic}\n                        onAudioEnded={musicEnd}\n                        onAudioPause={onPausePlayer}\n                    />\n                </div>\n            )}\n        </>\n    )\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        player: state.player,\n        adsState: state.player.adsPlay,\n        tokens: state.users.token,\n        users: state.users,\n        isAuth: state.users.isAuth,\n        isPremium: state.users.premium,\n    }\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        saveState: bindActionCreators(PlayerActions.setSaveState, dispatch),\n        isPlaying: bindActionCreators(PlayerActions.isPlay, dispatch),\n        setPausing: bindActionCreators(PlayerActions.setPause, dispatch),\n        isPausing: bindActionCreators(PlayerActions.isPause, dispatch),\n        setPlaying: bindActionCreators(PlayerActions.setPlay, dispatch),\n        Playing: bindActionCreators(PlayerActions.setPlaying, dispatch),\n        setAdsCount: bindActionCreators(PlayerActions.setAdsCount, dispatch),\n    }\n}\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(AudioPlayer)\n"]},"metadata":{},"sourceType":"module"}