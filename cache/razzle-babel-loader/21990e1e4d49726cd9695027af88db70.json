{"ast":null,"code":"var __jsx = React.createElement;\nimport \"./scss/style.scoped.scss\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { setDetailSongs } from \"redux/actions/utils\";\nimport { bindActionCreators } from \"redux\"; // import Data from \"helpers/dumy\"\n\nimport api from \"helpers/api\";\nimport loggs from \"helpers/logs\";\n\nfunction AsideSong(props) {\n  const logger = new loggs(false, \"AsideSongs\");\n  const doRequest = new api(props.tokens).req;\n  const {\n    0: dataAside,\n    1: setDataAside\n  } = useState([]);\n  useEffect(() => {\n    logger.Show(props.artisCode);\n\n    async function getData() {\n      try {\n        const sonsgArtis = await getSongsByArtis();\n        const songsGenre = await getSongsByGenres();\n        const Songs = [...sonsgArtis, ...songsGenre];\n        setDataAside(Songs);\n      } catch (error) {\n        logger.Show(error);\n      }\n    }\n\n    getData(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [props.execept]);\n\n  const toDetail = value => {\n    props.history.push(`/songs/${value.code}`);\n  };\n\n  const getSongsByArtis = () => {\n    return new Promise((resolve, reject) => {\n      doRequest({\n        method: \"GET\",\n        url: `music/all?page=1&per_page=20&order[id]=ASC&artis_code=${props.artisCode}`\n      }).then(res => {\n        const {\n          data\n        } = res.data;\n        const songs = data.filter(val => {\n          return val.music_title !== props.execept;\n        });\n        resolve(songs);\n      }).catch(er => {\n        reject(er);\n      });\n    });\n  };\n\n  const getSongsByGenres = () => {\n    return new Promise((resolve, reject) => {\n      doRequest({\n        method: \"GET\",\n        url: `genre/music?page=1&per_page=20&order[id]=DESC`\n      }).then(res => {\n        const {\n          data\n        } = res.data;\n        const songs = data.filter((val, idx) => {\n          if (props.genres === \"All\") {\n            if (idx <= 10) {\n              return val;\n            }\n          }\n\n          return val.genre_name === props.genres && val.music_title !== props.execept;\n        });\n        resolve(songs);\n      }).catch(er => {\n        reject(er);\n      });\n    });\n  };\n\n  return __jsx(\"aside\", {\n    className: \"aside-md bg-light dk main-side\",\n    id: \"sidebar\"\n  }, __jsx(\"section\", {\n    className: \"vbox animated fadeInRight\"\n  }, __jsx(\"section\", {\n    className: \"w-f-md scrollable hover\"\n  }, __jsx(\"h4\", {\n    className: \"font-thin m-l-md m-t\"\n  }, \"Other Songs\"), __jsx(\"ul\", {\n    className: \"list-group no-bg no-borders auto m-t-n-xxs\"\n  }, dataAside.map(value => {\n    const data = {\n      id: value.id,\n      name: value.music_title,\n      code: value.music_code,\n      singer: value.artis_name,\n      artisCod: value.artis_code,\n      cover: value.music_image_priority,\n      duration: value.music_duration,\n      musicSrc: value.music_storage_path\n    };\n    return __jsx(\"li\", {\n      className: \"list-group-item\",\n      key: data.id\n    }, __jsx(\"span\", {\n      className: \"pull-left thumb-xs m-t-xs avatar m-l-xs m-r-sm\"\n    }, __jsx(\"img\", {\n      src: data.cover,\n      alt: \"...\",\n      className: \"img-circle\"\n    })), __jsx(\"div\", {\n      className: \"clear\"\n    }, __jsx(\"div\", null, __jsx(Link, {\n      to: \"#\",\n      onClick: () => {\n        toDetail(data);\n      }\n    }, data.name)), __jsx(\"small\", {\n      className: \"text-muted\"\n    }, data.singer)));\n  })))));\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    SetDetail: bindActionCreators(setDetailSongs, dispatch)\n  };\n};\n\nexport default withRouter(connect(null, mapDispatchToProps)(AsideSong));","map":{"version":3,"sources":["/home/ab/Code/reactJs/razzel/src/components/AsideSongs/AsideSong.jsx"],"names":["React","useState","useEffect","Link","withRouter","connect","setDetailSongs","bindActionCreators","api","loggs","AsideSong","props","logger","doRequest","tokens","req","dataAside","setDataAside","Show","artisCode","getData","sonsgArtis","getSongsByArtis","songsGenre","getSongsByGenres","Songs","error","execept","toDetail","value","history","push","code","Promise","resolve","reject","method","url","then","res","data","songs","filter","val","music_title","catch","er","idx","genres","genre_name","map","id","name","music_code","singer","artis_name","artisCod","artis_code","cover","music_image_priority","duration","music_duration","musicSrc","music_storage_path","mapDispatchToProps","dispatch","SetDetail"],"mappings":"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","sourcesContent":["import \"./scss/style.scoped.scss\"\nimport React, { useState, useEffect } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { withRouter } from \"react-router\"\nimport { connect } from \"react-redux\"\nimport { setDetailSongs } from \"redux/actions/utils\"\nimport { bindActionCreators } from \"redux\"\n// import Data from \"helpers/dumy\"\nimport api from \"helpers/api\"\nimport loggs from \"helpers/logs\"\n\nfunction AsideSong(props) {\n    const logger = new loggs(false, \"AsideSongs\")\n    const doRequest = new api(props.tokens).req\n\n    const [dataAside, setDataAside] = useState([])\n    useEffect(() => {\n        logger.Show(props.artisCode)\n        async function getData() {\n            try {\n                const sonsgArtis = await getSongsByArtis()\n                const songsGenre = await getSongsByGenres()\n                const Songs = [...sonsgArtis, ...songsGenre]\n                setDataAside(Songs)\n            } catch (error) {\n                logger.Show(error)\n            }\n        }\n        getData()\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [props.execept])\n\n    const toDetail = (value) => {\n        props.history.push(`/songs/${value.code}`)\n    }\n\n    const getSongsByArtis = () => {\n        return new Promise((resolve, reject) => {\n            doRequest({\n                method: \"GET\",\n                url: `music/all?page=1&per_page=20&order[id]=ASC&artis_code=${props.artisCode}`,\n            })\n                .then((res) => {\n                    const { data } = res.data\n                    const songs = data.filter((val) => {\n                        return val.music_title !== props.execept\n                    })\n                    resolve(songs)\n                })\n                .catch((er) => {\n                    reject(er)\n                })\n        })\n    }\n\n    const getSongsByGenres = () => {\n        return new Promise((resolve, reject) => {\n            doRequest({\n                method: \"GET\",\n                url: `genre/music?page=1&per_page=20&order[id]=DESC`,\n            })\n                .then((res) => {\n                    const { data } = res.data\n                    const songs = data.filter((val, idx) => {\n                        if (props.genres === \"All\") {\n                            if (idx <= 10) {\n                                return val\n                            }\n                        }\n                        return val.genre_name === props.genres && val.music_title !== props.execept\n                    })\n                    resolve(songs)\n                })\n                .catch((er) => {\n                    reject(er)\n                })\n        })\n    }\n\n    return (\n        <aside className=\"aside-md bg-light dk main-side\" id=\"sidebar\">\n            <section className=\"vbox animated fadeInRight\">\n                <section className=\"w-f-md scrollable hover\">\n                    <h4 className=\"font-thin m-l-md m-t\">Other Songs</h4>\n                    <ul className=\"list-group no-bg no-borders auto m-t-n-xxs\">\n                        {dataAside.map((value) => {\n                            const data = {\n                                id: value.id,\n                                name: value.music_title,\n                                code: value.music_code,\n                                singer: value.artis_name,\n                                artisCod: value.artis_code,\n                                cover: value.music_image_priority,\n                                duration: value.music_duration,\n                                musicSrc: value.music_storage_path,\n                            }\n                            return (\n                                <li className=\"list-group-item\" key={data.id}>\n                                    <span className=\"pull-left thumb-xs m-t-xs avatar m-l-xs m-r-sm\">\n                                        <img src={data.cover} alt=\"...\" className=\"img-circle\" />\n                                    </span>\n                                    <div className=\"clear\">\n                                        <div>\n                                            <Link\n                                                to=\"#\"\n                                                onClick={() => {\n                                                    toDetail(data)\n                                                }}\n                                            >\n                                                {data.name}\n                                            </Link>\n                                        </div>\n                                        <small className=\"text-muted\">{data.singer}</small>\n                                    </div>\n                                </li>\n                            )\n                        })}\n                    </ul>\n                </section>\n            </section>\n        </aside>\n    )\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        SetDetail: bindActionCreators(setDetailSongs, dispatch),\n    }\n}\n\nexport default withRouter(\n    connect(\n        null,\n        mapDispatchToProps\n    )(AsideSong)\n)\n"]},"metadata":{},"sourceType":"module"}