{"ast":null,"code":"var _jsxFileName = \"/home/ab/Code/reactJs/razzel/src/components/Topsongs/index.jsx\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { withRouter } from \"react-router\";\nimport { connect } from \"react-redux\";\nimport { setDetailSongs } from \"redux/actions/utils\";\nimport { bindActionCreators } from \"redux\";\nimport logs from \"helpers/logs\";\nimport api from \"helpers/api\";\nimport \"./scss/style.scoped.scss\";\n\nfunction Topsongs(props) {\n  const logger = new logs(false, \"topsongs\");\n  const doRequest = new api(props.tokens).req;\n  const {\n    0: topSongs,\n    1: setTopSongs\n  } = useState([]);\n  useEffect(() => {\n    doRequest({\n      method: \"GET\",\n      url: `music/top?page=1&per_page=5&order[music_rank]=ASC`\n    }).then(res => {\n      const {\n        data\n      } = res.data;\n      logger.Show(data);\n      setTopSongs(data);\n    }).catch(er => {\n      logger.Show(er);\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const toDetail = value => {\n    const data = {\n      id: value.id,\n      code: value.code,\n      uuid: value.id,\n      name: value.name,\n      singer: value.singer,\n      cover: value.cover,\n      songs: value\n    };\n    logger.Show(value);\n    props.SetDetail(data);\n    props.history.push(`/songs/${value.code}`);\n  };\n\n  return __jsx(\"div\", {\n    className: \"col-md-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, __jsx(\"h3\", {\n    className: \"font-thin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, \"Top Songs\"), __jsx(\"div\", {\n    className: \"list-group bg-white list-group-lg no-bg auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }, topSongs.map((val, index) => {\n    const data = {\n      id: val.id,\n      uuid: val.discovery_code,\n      name: val.music_title,\n      code: val.music_code,\n      artisCod: val.artis_code,\n      singer: val.artis_name,\n      cover: val.music_image_priority,\n      duration: val.music_duration,\n      musicSrc: val.music_storage_path\n    };\n    return __jsx(Link, {\n      to: \"#\",\n      key: index,\n      className: \"list-group-item clearfix warpp\",\n      onClick: () => {\n        toDetail(data);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 25\n      }\n    }, __jsx(\"span\", {\n      className: \"pull-right h2 m-l text-dark\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 29\n      }\n    }, index + 1), __jsx(\"span\", {\n      className: \"pull-left thumb-sm avatar m-r\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 29\n      }\n    }, __jsx(\"img\", {\n      src: data.cover,\n      alt: \"a4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 33\n      }\n    })), __jsx(\"span\", {\n      className: \"clear\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 29\n      }\n    }, __jsx(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 33\n      }\n    }, data.name), __jsx(\"small\", {\n      className: \"text-muted clear text-ellipsis\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 33\n      }\n    }, \"by \", data.singer)));\n  })));\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    SetDetail: bindActionCreators(setDetailSongs, dispatch)\n  };\n};\n\nexport default withRouter(connect(null, mapDispatchToProps)(Topsongs));","map":{"version":3,"sources":["/home/ab/Code/reactJs/razzel/src/components/Topsongs/index.jsx"],"names":["React","useState","useEffect","Link","withRouter","connect","setDetailSongs","bindActionCreators","logs","api","Topsongs","props","logger","doRequest","tokens","req","topSongs","setTopSongs","method","url","then","res","data","Show","catch","er","toDetail","value","id","code","uuid","name","singer","cover","songs","SetDetail","history","push","map","val","index","discovery_code","music_title","music_code","artisCod","artis_code","artis_name","music_image_priority","duration","music_duration","musicSrc","music_storage_path","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { Link } from \"react-router-dom\"\nimport { withRouter } from \"react-router\"\nimport { connect } from \"react-redux\"\nimport { setDetailSongs } from \"redux/actions/utils\"\nimport { bindActionCreators } from \"redux\"\nimport logs from \"helpers/logs\"\nimport api from \"helpers/api\"\nimport \"./scss/style.scoped.scss\"\n\nfunction Topsongs(props) {\n    const logger = new logs(false, \"topsongs\")\n    const doRequest = new api(props.tokens).req\n\n    const [topSongs, setTopSongs] = useState([])\n    useEffect(() => {\n        doRequest({\n            method: \"GET\",\n            url: `music/top?page=1&per_page=5&order[music_rank]=ASC`,\n        })\n            .then((res) => {\n                const { data } = res.data\n                logger.Show(data)\n                setTopSongs(data)\n            })\n            .catch((er) => {\n                logger.Show(er)\n            })\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const toDetail = (value) => {\n        const data = {\n            id: value.id,\n            code: value.code,\n            uuid: value.id,\n            name: value.name,\n            singer: value.singer,\n            cover: value.cover,\n            songs: value,\n        }\n        logger.Show(value)\n        props.SetDetail(data)\n        props.history.push(`/songs/${value.code}`)\n    }\n\n    return (\n        <div className=\"col-md-4\">\n            <h3 className=\"font-thin\">Top Songs</h3>\n            <div className=\"list-group bg-white list-group-lg no-bg auto\">\n                {topSongs.map((val, index) => {\n                    const data = {\n                        id: val.id,\n                        uuid: val.discovery_code,\n                        name: val.music_title,\n                        code: val.music_code,\n                        artisCod: val.artis_code,\n                        singer: val.artis_name,\n                        cover: val.music_image_priority,\n                        duration: val.music_duration,\n                        musicSrc: val.music_storage_path,\n                    }\n                    return (\n                        <Link\n                            to=\"#\"\n                            key={index}\n                            className=\"list-group-item clearfix warpp\"\n                            onClick={() => {\n                                toDetail(data)\n                            }}\n                        >\n                            <span className=\"pull-right h2 m-l text-dark\">{index + 1}</span>\n                            <span className=\"pull-left thumb-sm avatar m-r\">\n                                <img src={data.cover} alt=\"a4\" />\n                            </span>\n                            <span className=\"clear\">\n                                <span>{data.name}</span>\n                                <small className=\"text-muted clear text-ellipsis\">\n                                    by {data.singer}\n                                </small>\n                            </span>\n                        </Link>\n                    )\n                })}\n            </div>\n        </div>\n    )\n}\n\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        SetDetail: bindActionCreators(setDetailSongs, dispatch),\n    }\n}\n\nexport default withRouter(\n    connect(\n        null,\n        mapDispatchToProps\n    )(Topsongs)\n)\n"]},"metadata":{},"sourceType":"module"}